{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Link}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CartIcon=()=>{const[cartCount,setCartCount]=useState(0);useEffect(()=>{// Update cart count when component mounts\nupdateCartCount();// Set up event listener for storage events\nwindow.addEventListener('storage',updateCartCount);// Custom event listener for cart updates from same window\nwindow.addEventListener('cartUpdated',updateCartCount);return()=>{window.removeEventListener('storage',updateCartCount);window.removeEventListener('cartUpdated',updateCartCount);};},[]);const updateCartCount=()=>{const cart=JSON.parse(localStorage.getItem('ayurvedicCart'))||[];const count=cart.reduce((total,item)=>total+item.quantity,0);setCartCount(count);};return/*#__PURE__*/_jsxs(Link,{to:\"/cart\",className:\"relative inline-block\",children:[/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-6 w-6 text-white\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\"})}),cartCount>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -top-2 -right-2 bg-red-600 text-white text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center\",children:cartCount})]});};export default CartIcon;","map":{"version":3,"names":["React","useState","useEffect","Link","jsx","_jsx","jsxs","_jsxs","CartIcon","cartCount","setCartCount","updateCartCount","window","addEventListener","removeEventListener","cart","JSON","parse","localStorage","getItem","count","reduce","total","item","quantity","to","className","children","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d"],"sources":["d:/GitHub Projects/Ayurvedic Product Distribution System/Online-Ayurvedic-Product-Distribution-System/frontend/src/components/cart/CartIcon.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\n\nconst CartIcon = () => {\n  const [cartCount, setCartCount] = useState(0);\n\n  useEffect(() => {\n    // Update cart count when component mounts\n    updateCartCount();\n\n    // Set up event listener for storage events\n    window.addEventListener('storage', updateCartCount);\n    \n    // Custom event listener for cart updates from same window\n    window.addEventListener('cartUpdated', updateCartCount);\n\n    return () => {\n      window.removeEventListener('storage', updateCartCount);\n      window.removeEventListener('cartUpdated', updateCartCount);\n    };\n  }, []);\n\n  const updateCartCount = () => {\n    const cart = JSON.parse(localStorage.getItem('ayurvedicCart')) || [];\n    const count = cart.reduce((total, item) => total + item.quantity, 0);\n    setCartCount(count);\n  };\n\n  return (\n    <Link to=\"/cart\" className=\"relative inline-block\">\n      <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6 text-white\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n        <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z\" />\n      </svg>\n      {cartCount > 0 && (\n        <span className=\"absolute -top-2 -right-2 bg-red-600 text-white text-xs font-semibold rounded-full h-5 w-5 flex items-center justify-center\">\n          {cartCount}\n        </span>\n      )}\n    </Link>\n  );\n};\n\nexport default CartIcon;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,OAASC,IAAI,KAAQ,kBAAkB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExC,KAAM,CAAAC,QAAQ,CAAGA,CAAA,GAAM,CACrB,KAAM,CAACC,SAAS,CAAEC,YAAY,CAAC,CAAGT,QAAQ,CAAC,CAAC,CAAC,CAE7CC,SAAS,CAAC,IAAM,CACd;AACAS,eAAe,CAAC,CAAC,CAEjB;AACAC,MAAM,CAACC,gBAAgB,CAAC,SAAS,CAAEF,eAAe,CAAC,CAEnD;AACAC,MAAM,CAACC,gBAAgB,CAAC,aAAa,CAAEF,eAAe,CAAC,CAEvD,MAAO,IAAM,CACXC,MAAM,CAACE,mBAAmB,CAAC,SAAS,CAAEH,eAAe,CAAC,CACtDC,MAAM,CAACE,mBAAmB,CAAC,aAAa,CAAEH,eAAe,CAAC,CAC5D,CAAC,CACH,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAA,eAAe,CAAGA,CAAA,GAAM,CAC5B,KAAM,CAAAI,IAAI,CAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAAC,eAAe,CAAC,CAAC,EAAI,EAAE,CACpE,KAAM,CAAAC,KAAK,CAAGL,IAAI,CAACM,MAAM,CAAC,CAACC,KAAK,CAAEC,IAAI,GAAKD,KAAK,CAAGC,IAAI,CAACC,QAAQ,CAAE,CAAC,CAAC,CACpEd,YAAY,CAACU,KAAK,CAAC,CACrB,CAAC,CAED,mBACEb,KAAA,CAACJ,IAAI,EAACsB,EAAE,CAAC,OAAO,CAACC,SAAS,CAAC,uBAAuB,CAAAC,QAAA,eAChDtB,IAAA,QAAKuB,KAAK,CAAC,4BAA4B,CAACF,SAAS,CAAC,oBAAoB,CAACG,IAAI,CAAC,MAAM,CAACC,OAAO,CAAC,WAAW,CAACC,MAAM,CAAC,cAAc,CAAAJ,QAAA,cAC1HtB,IAAA,SAAM2B,aAAa,CAAC,OAAO,CAACC,cAAc,CAAC,OAAO,CAACC,WAAW,CAAE,CAAE,CAACC,CAAC,CAAC,sJAAsJ,CAAE,CAAC,CAC3N,CAAC,CACL1B,SAAS,CAAG,CAAC,eACZJ,IAAA,SAAMqB,SAAS,CAAC,4HAA4H,CAAAC,QAAA,CACzIlB,SAAS,CACN,CACP,EACG,CAAC,CAEX,CAAC,CAED,cAAe,CAAAD,QAAQ","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}