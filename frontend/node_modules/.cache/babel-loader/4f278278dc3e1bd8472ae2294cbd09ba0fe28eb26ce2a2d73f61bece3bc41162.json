{"ast":null,"code":"import React,{useContext}from'react';import{Link}from'react-router-dom';import{AuthContext}from'../../context/AuthContext';import{useNavigate}from'react-router-dom';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Unauthorized=()=>{const context=useContext(AuthContext);const{currentUser,token,loading}=context||{currentUser:null,token:null,loading:false};const navigate=useNavigate();const isAuthenticated=!!token;// Show loading spinner while auth state is being determined\nif(loading){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center items-center min-h-screen\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500\"}),/*#__PURE__*/_jsx(\"div\",{className:\"ml-3 text-lg\",children:\"Loading...\"})]});}// Determine where to redirect the user based on their role\nconst getRoleBasedRedirect=()=>{if(!isAuthenticated)return'/login';if(!currentUser)return'/';switch(currentUser===null||currentUser===void 0?void 0:currentUser.role){case'admin':return'/admin';case'seller':return'/seller';case'customer':return'/customer';default:return'/';}};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-md w-full space-y-8\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-red-100\",children:/*#__PURE__*/_jsxs(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-12 w-12 text-red-600\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:[/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M12 15v2m0 0v2m0-2h2m-2 0H9m3-12V3m0 0v2m0-2h2m-2 0H9\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\"}),/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M18.364 5.636a9 9 0 010 12.728m-12.728 0a9 9 0 010-12.728m12.728 0L5.636 18.364\"})]})}),/*#__PURE__*/_jsx(\"h2\",{className:\"mt-6 text-center text-3xl font-extrabold text-gray-900\",children:\"Access Denied\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-center text-sm text-gray-600\",children:\"You don't have permission to access this page.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-4\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:\"Return to Home\"}),isAuthenticated&&/*#__PURE__*/_jsx(Link,{to:getRoleBasedRedirect(),className:\"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:\"Go to Dashboard\"}),!isAuthenticated&&/*#__PURE__*/_jsx(Link,{to:\"/login\",className:\"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\",children:\"Log In\"})]})]})});};export default Unauthorized;","map":{"version":3,"names":["React","useContext","Link","AuthContext","useNavigate","jsx","_jsx","jsxs","_jsxs","Unauthorized","context","currentUser","token","loading","navigate","isAuthenticated","className","children","getRoleBasedRedirect","role","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","to"],"sources":["d:/GitHub Projects/Ayurvedic Product Distribution System/Online-Ayurvedic-Product-Distribution-System/frontend/src/components/common/Unauthorized.js"],"sourcesContent":["import React, { useContext } from 'react';\nimport { Link } from 'react-router-dom';\nimport { AuthContext } from '../../context/AuthContext';\nimport { useNavigate } from 'react-router-dom';\n\nconst Unauthorized = () => {\n  const context = useContext(AuthContext);\n  const { currentUser, token, loading } = context || { currentUser: null, token: null, loading: false };\n  const navigate = useNavigate();\n  \n  const isAuthenticated = !!token;\n\n  // Show loading spinner while auth state is being determined\n  if (loading) {\n    return (\n      <div className=\"flex justify-center items-center min-h-screen\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-500\"></div>\n        <div className=\"ml-3 text-lg\">Loading...</div>\n      </div>\n    );\n  }\n  \n  // Determine where to redirect the user based on their role\n  const getRoleBasedRedirect = () => {\n    if (!isAuthenticated) return '/login';\n    if (!currentUser) return '/';\n    \n    switch (currentUser?.role) {\n      case 'admin':\n        return '/admin';\n      case 'seller':\n        return '/seller';\n      case 'customer':\n        return '/customer';\n      default:\n        return '/';\n    }\n  };\n  \n  return (\n    <div className=\"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8\">\n      <div className=\"max-w-md w-full space-y-8\">\n        <div>\n          <div className=\"mx-auto flex items-center justify-center h-24 w-24 rounded-full bg-red-100\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-12 w-12 text-red-600\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M12 15v2m0 0v2m0-2h2m-2 0H9m3-12V3m0 0v2m0-2h2m-2 0H9\" />\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n              <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M18.364 5.636a9 9 0 010 12.728m-12.728 0a9 9 0 010-12.728m12.728 0L5.636 18.364\" />\n            </svg>\n          </div>\n          <h2 className=\"mt-6 text-center text-3xl font-extrabold text-gray-900\">Access Denied</h2>\n          <p className=\"mt-2 text-center text-sm text-gray-600\">\n            You don't have permission to access this page.\n          </p>\n        </div>\n        <div className=\"flex flex-col space-y-4\">\n          <Link\n            to=\"/\"\n            className=\"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n          >\n            Return to Home\n          </Link>\n          {isAuthenticated && (\n            <Link\n              to={getRoleBasedRedirect()}\n              className=\"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n            >\n              Go to Dashboard\n            </Link>\n          )}\n          {!isAuthenticated && (\n            <Link\n              to=\"/login\"\n              className=\"w-full flex items-center justify-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-green-700 bg-green-100 hover:bg-green-200 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\"\n            >\n              Log In\n            </Link>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Unauthorized;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}